<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>养老平台管理系统</title>

	<!-- 一些引入的库的css -->
	<link rel="stylesheet" href="lib/font-awesome/css/font-awesome.min.css">
	<link rel="stylesheet" href="lib/layui/css/layui.css">
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/common.css">
	<link rel="stylesheet" href="css/pensionui/pension.css">
</head>
<body>
	<!-- 顶部导航 -->
	<div class="nav-bar clearfix">
		<div class="full-left pen-title">
			<h1>养老平台管理系统</h1>
		</div>
		<div class="full-right use-info">
			<div class="use-img">
				<img src="" alt="">
			</div>
			<div class="login-info full-right">
				<p class="user-name">未登录</p>
				<ul class="use-menu hide">
					<li class="menu-item">
						<a href="javascript:;">我的信息</a>
					</li>
					<li class="menu-item">
						<a href="javascript:;">修改密码</a>
					</li>
					<li class="menu-item">
						<a href="javascript:;">待办事项</a>
					</li>
					<li class="menu-item">
						<a href="javascript:;">我的消息</a>
					</li>
					<li class="menu-item">
						<a href="javascript:;">退出</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
	<div class="pen-content clearfix">
		<!-- 侧边菜单栏 -->
		<div class="pen-side-menu">
			<ul class="pen-nav" id="menuContext">
				
			</ul>
		</div>
		<!-- 主题内容 -->
		<div class="pen-main">
			<div class="main-body">
				<div class="layui-tab" lay-filter="pen-tab" lay-allowclose="true">
					<ul class="layui-tab-title">
						<li class="layui-this" lay-id="first_page" lay-allowclose="false" id="first_page">首页</li>
					</ul>
					<div class="layui-tab-content">
						<div class="layui-tab-item layui-show">这是首页</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="lib/jquery/jquery.min.js"></script>
	<script src="lib/jquery/jquery.cookie.js"></script>
	<script src="lib/jqgrid/jquery.jqGrid.min.js"></script>
	<script src="lib/layer/layer.js"></script>
	<script src="lib/layui/layui.js"></script>
	<script src="js/common.js"></script>
	<script>
	$(function() {
		//获取左侧菜单栏
		function initMenu() {
			$.ajax({
		        type: "get",
		        url: PensionService.buildUrl('home/MyMenu'),
		        success: function (res) {
		            if (res.status) {
		                var menuArry = res.data;
		                var strHtml = [];
		                $.each(menuArry, function (index, item) {
		                    if (!item.pid) {
		                        strHtml.push('<li class="pen-nav-item">');
		                        strHtml.push('<a href="javascript:;" class="nav-a">');
		                        strHtml.push('<i class="fa fa-folder nav-icon" aria-hidden="true"></i>');
		                        strHtml.push('<cite>' + item.text + '</cite>');
		                        strHtml.push('<span class="pen-nav-more">');
		                        strHtml.push('<i class="fa fa-caret-down" aria-hidden="true"></i>');
		                        strHtml.push('</span>');
		                        strHtml.push('</a>');

		                        //子类(后期优化递归查询,可能有多级)
                        		strHtml.push('<dl class="pen-nav-child hide">');
		                        $.each(menuArry, function (index1, item1) {
		                            if (item1.pid === item.id) {
		                                var title = item1.text || "";
		                                var url = item1.url || "";
		                                strHtml.push('<dd>');
		                                strHtml.push('<a href="javascript:;"  class="pen-nav-operate" data-title="'+ title +'" data-url="pages' + url + '">' + title + '</a>');
		                                strHtml.push('</dd>');
		                            }
		                        });
                        		strHtml.push('</dl>');
		                        strHtml.push('</li>');
		                        $("#menuContext").html(strHtml.join('').toString());
		                    }
		                });
		            }
		        }
		    });
		};
		initMenu();
		getUserInfo();
	});
	</script>
</body>
</html>